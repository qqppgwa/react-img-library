(this["webpackJsonpreact-img-library"]=this["webpackJsonpreact-img-library"]||[]).push([[0],{125:function(e,t,a){e.exports={container:"ImageCell_container__1_5Sa",liked:"ImageCell_liked__22-r5"}},199:function(e,t,a){e.exports={imgList:"index_imgList__3uyPH"}},201:function(e,t,a){e.exports=a(431)},407:function(e,t,a){},408:function(e,t,a){},431:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),s=a(96),l=a.n(s),o=(a(206),a(215),a(407),a(408),a(99)),r=a(47),c=a(53),u=a(54),h=a(56),d=a(55),p=a(57),k=function(e){function t(){return Object(c.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement("p",null,"bb")}}]),t}(i.a.Component),g=a(125),m=a.n(g),f=a(18),v=a.n(f),b=a(63),y=function(e){function t(e){var a;return Object(c.a)(this,t),a=Object(h.a)(this,Object(d.a)(t).call(this)),console.log(e),a.state={islike:a.checkLike(e.list.id)},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement("figure",{className:m.a.container+" figure".concat(this.props.index),onClick:this.liked.bind(this)},i.a.createElement("img",{src:this.props.list.images.fixed_height_downsampled.url,alt:""}),i.a.createElement("div",{className:this.state.islike?m.a.liked:""}))}},{key:"liked",value:function(){var e=this,t=new Date;t.setDate(Date.now()+12096e5);var a=v.a.load("likeList")?v.a.load("likeList"):[];if(this.state.islike&&0!==a.length){if(this.state.islike){var n=a.indexOf(a.find((function(t){return t===e.props.list.id})));a.splice(n,1),v.a.save("likeList",a,{path:"/",expires:t}),this.setState({islike:!1}),this.props.addLike(a.length)}}else a.push(this.props.list.id),v.a.save("likeList",a,{path:"/",expires:t}),this.setState({islike:!0}),this.props.addLike(a.length);console.log(v.a.loadAll())}},{key:"checkLike",value:function(e){if(v.a.load("likeList"))return!!v.a.load("likeList").find((function(t){return t===e}))}}]),t}(i.a.Component),E=Object(b.b)(null,(function(e){return{addLike:function(t){return console.log(t),e({type:"ADD_Like",payload:{likeNum:t}})}}}))(y),O=a(198),_=a.n(O).a.create({baseURL:"https://api.giphy.com/v1/gifs"}),j=a(199),L=a.n(j),w=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(h.a)(this,Object(d.a)(t).call(this))).state={keyword:"",status:"",list:[]},e}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e;if(console.log(this.state.list),"loading"===this.state.status)e=i.a.createElement("p",null,"loading");else if(this.state.list.length>0){e=[];for(var t=0;t<this.state.list.length;t++)e.push(i.a.createElement(E,{list:this.state.list[t],key:t,index:t}));console.log(e)}else e="none"===this.state.status?i.a.createElement("p",null,"no result"):i.a.createElement("p",null,"error");return i.a.createElement("div",null,i.a.createElement(S,{keying:this.keying.bind(this),changeStatus:this.changeStatus.bind(this),list:this.list.bind(this),state:this.state}),i.a.createElement("div",{className:L.a.imgList},""===this.state.status?null:e))}},{key:"keying",value:function(e){this.setState({keyword:e})}},{key:"changeStatus",value:function(e){this.setState({status:e}),console.log(this.state)}},{key:"list",value:function(e){this.setState({list:e}),console.log(this.state)}}]),t}(i.a.Component),S=function(e){function t(){return Object(c.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement("input",{type:"text",placeholder:"Start searching for images!",onChange:this.keying.bind(this),onKeyPress:this.search.bind(this),value:this.props.state.keyword})}},{key:"keying",value:function(e){console.log(e.target.value),this.props.keying(e.target.value)}},{key:"search",value:function(e){var t,a=this;13===e.nativeEvent.keyCode&&(this.props.changeStatus("loading"),(t={query:this.props.state.keyword,limit:"8"},_.get("/search?api_key=".concat("IGLOYrMAV8KRjzGzj6vvF3dGx2WlASHZ","&q=").concat(t.query,"&limit=").concat(t.limit))).then((function(e){console.log(e),e.data.data.length>0?(a.props.changeStatus("showlist"),a.props.list(e.data.data)):a.props.changeStatus("none")})).catch((function(e){console.log(e),a.props.changeStatus("error")})))}}]),t}(i.a.Component),x=w,N=Object(b.b)((function(e){var t=e.likeNum;return console.log(t),{likeNum:t}}),null)((function(e){v.a.load("likeList")&&v.a.load("likeList").length;return i.a.createElement(o.a,null,i.a.createElement("nav",null,i.a.createElement("h1",null,"Galler",i.a.createElement("span",null,"easy")),i.a.createElement(o.b,{exact:!0,to:"/"},"search"),i.a.createElement(o.b,{exact:!0,to:"/favourites"},"favourites (",i.a.createElement("span",null,e.likeNum),")")),i.a.createElement(r.c,null,i.a.createElement(r.a,{path:"/favourites",component:k}),i.a.createElement(r.a,{path:"/",component:x})))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var D=a(98),C={likeNum:v.a.load("likeList")?v.a.load("likeList").length:0};console.log(v.a.loadAll());var A=Object(D.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(console.log(a),a){case"ADD_Like":return{likeNum:n.likeNum};default:return e}}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());l.a.render(i.a.createElement(b.a,{store:A},i.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[201,1,2]]]);
//# sourceMappingURL=main.47fc4513.chunk.js.map